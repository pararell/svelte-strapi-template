var t=Object.defineProperty,s=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(s,e,a)=>e in s?t(s,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[e]=a;import{S as r,i as l,s as c,X as o,l as u,Y as i,f as m,d as f,j as p,m as d,o as h,x as g,u as v,v as $,e as y,k as b,c as S,a as x,n as E,b as j,F as w,t as A,g as O,h as I,Z as P,w as k,J as D,T as V,r as F,a3 as L,a6 as N,a4 as T}from"../chunks/vendor-d3b32fb2.js";import{g as z}from"../chunks/api-3229d4e4.js";import{p as J,g as X,b as Y,e as Z}from"../chunks/store-392803e1.js";import{F as q}from"../chunks/Form-7dc8a4ef.js";function B(t){let s,e;return{c(){s=new o,e=u(),this.h()},l(t){s=i(t),e=u(),this.h()},h(){s.a=e},m(a,n){s.m(t[2],a,n),m(a,e,n)},p(t,e){4&e&&s.p(t[2])},d(t){t&&f(e),t&&s.d()}}}function C(t){let s,e;return s=new V({}),{c(){p(s.$$.fragment)},l(t){d(s.$$.fragment,t)},m(t,a){h(s,t,a),e=!0},i(t){e||(g(s.$$.fragment,t),e=!0)},o(t){v(s.$$.fragment,t),e=!1},d(t){$(s,t)}}}function G(t){let s,e,a,n,r,l;a=new q({props:{form:t[3]}}),a.$on("submitForm",t[7]);let c=t[0]&&H(),o=t[6]&&K();return{c(){s=y("div"),e=y("div"),p(a.$$.fragment),n=b(),c&&c.c(),r=b(),o&&o.c(),this.h()},l(t){s=S(t,"DIV",{class:!0});var l=x(s);e=S(l,"DIV",{class:!0});var u=x(e);d(a.$$.fragment,u),u.forEach(f),n=E(l),c&&c.l(l),r=E(l),o&&o.l(l),l.forEach(f),this.h()},h(){j(e,"class","center-content"),j(s,"class","container")},m(t,u){m(t,s,u),w(s,e),h(a,e,null),w(s,n),c&&c.m(s,null),w(s,r),o&&o.m(s,null),l=!0},p(t,e){const n={};8&e&&(n.form=t[3]),a.$set(n),t[0]?c||(c=H(),c.c(),c.m(s,r)):c&&(c.d(1),c=null),t[6]?o||(o=K(),o.c(),o.m(s,null)):o&&(o.d(1),o=null)},i(t){l||(g(a.$$.fragment,t),l=!0)},o(t){v(a.$$.fragment,t),l=!1},d(t){t&&f(s),$(a),c&&c.d(),o&&o.d()}}}function H(t){let s,e;return{c(){s=y("span"),e=A("Sended successfully"),this.h()},l(t){s=S(t,"SPAN",{class:!0});var a=x(s);e=O(a,"Sended successfully"),a.forEach(f),this.h()},h(){j(s,"class","text-green-500 text-center")},m(t,a){m(t,s,a),w(s,e)},d(t){t&&f(s)}}}function K(t){let s,e;return{c(){s=y("span"),e=A("Error, try again"),this.h()},l(t){s=S(t,"SPAN",{class:!0});var a=x(s);e=O(a,"Error, try again"),a.forEach(f),this.h()},h(){j(s,"class","text-red-500 text-center")},m(t,a){m(t,s,a),w(s,e)},d(t){t&&f(s)}}}function M(t){let s,e,a,n;return{c(){s=y("div"),e=y("div"),a=y("span"),n=A(t[4]),this.h()},l(r){s=S(r,"DIV",{class:!0});var l=x(s);e=S(l,"DIV",{class:!0});var c=x(e);a=S(c,"SPAN",{class:!0});var o=x(a);n=O(o,t[4]),o.forEach(f),c.forEach(f),l.forEach(f),this.h()},h(){j(a,"class","text-center m-auto py-8 text-2xl"),j(e,"class","container flex items-center justify-center"),j(s,"class","m-auto w-full")},m(t,r){m(t,s,r),w(s,e),w(e,a),w(a,n)},p(t,s){16&s&&I(n,t[4])},d(t){t&&f(s)}}}function Q(t){let s,e,a,n,r,l,c;document.title=s=t[5];let o=t[2]&&B(t),u=t[1]&&C(),i=t[3]&&!t[1]&&G(t),p=t[4]&&M(t);return{c(){e=b(),a=y("div"),o&&o.c(),n=b(),u&&u.c(),r=b(),i&&i.c(),l=b(),p&&p.c(),this.h()},l(t){P('[data-svelte="svelte-1az6e94"]',document.head).forEach(f),e=E(t),a=S(t,"DIV",{class:!0});var s=x(a);o&&o.l(s),n=E(s),u&&u.l(s),r=E(s),i&&i.l(s),l=E(s),p&&p.l(s),s.forEach(f),this.h()},h(){j(a,"class","w-full")},m(t,s){m(t,e,s),m(t,a,s),o&&o.m(a,null),w(a,n),u&&u.m(a,null),w(a,r),i&&i.m(a,null),w(a,l),p&&p.m(a,null),c=!0},p(t,[e]){(!c||32&e)&&s!==(s=t[5])&&(document.title=s),t[2]?o?o.p(t,e):(o=B(t),o.c(),o.m(a,n)):o&&(o.d(1),o=null),t[1]?u?2&e&&g(u,1):(u=C(),u.c(),g(u,1),u.m(a,r)):u&&(F(),v(u,1,1,(()=>{u=null})),k()),t[3]&&!t[1]?i?(i.p(t,e),10&e&&g(i,1)):(i=G(t),i.c(),g(i,1),i.m(a,l)):i&&(F(),v(i,1,1,(()=>{i=null})),k()),t[4]?p?p.p(t,e):(p=M(t),p.c(),p.m(a,null)):p&&(p.d(1),p=null)},i(t){c||(g(u),g(i),c=!0)},o(t){v(u),v(i),c=!1},d(t){t&&f(e),t&&f(a),o&&o.d(),u&&u.d(),i&&i.d(),p&&p.d()}}}const R=async({page:t})=>{const s=await z("contents?slug="+t.params.page);if(s&&s.length){const e=s[0];return{props:{content:e.content,form:e.form?Object.entries(e.form.fields):null,formAction:e.form?e.form.action:null,pageSlug:t.params.page,empty:"",success:!1},maxage:0}}return{props:{empty:"This page is empty",pageSlug:t.params.page,form:null,success:!1}}};function U(t,r,l){let c,o;D(t,Z,(t=>l(6,o=t)));let{content:u=null}=r,{form:i=null}=r,{formAction:m=""}=r,{pageSlug:f=null}=r,{empty:p=null}=r,{success:d=!1}=r,{formLoading:h=!1}=r;return t.$$set=t=>{"content"in t&&l(2,u=t.content),"form"in t&&l(3,i=t.form),"formAction"in t&&l(8,m=t.formAction),"pageSlug"in t&&l(9,f=t.pageSlug),"empty"in t&&l(4,p=t.empty),"success"in t&&l(0,d=t.success),"formLoading"in t&&l(1,h=t.formLoading)},t.$$.update=()=>{var s,e;512&t.$$.dirty&&l(5,c=(null==(e=null==(s=J.value)?void 0:s.find((t=>t.slug===f)))?void 0:e.title)||f)},[d,h,u,i,p,c,o,async function(t){const r=((t,r)=>{for(var l in r||(r={}))e.call(r,l)&&n(t,l,r[l]);if(s)for(var l of s(r))a.call(r,l)&&n(t,l,r[l]);return t})({},t.detail);m&&(l(1,h=!0),X(m,r),Y.pipe(L((t=>!t)),N(Z),T(1)).subscribe((([t,s])=>{l(1,h=!1),s||l(0,d=!0)})))},m,f]}class W extends r{constructor(t){super(),l(this,t,U,Q,c,{content:2,form:3,formAction:8,pageSlug:9,empty:4,success:0,formLoading:1})}}export{W as default,R as load};
