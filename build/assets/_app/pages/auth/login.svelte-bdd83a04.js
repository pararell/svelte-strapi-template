var s=Object.defineProperty,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,t=(a,r,n)=>r in a?s(a,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[r]=n;import{S as e,i as o,s as c,j as l,m as i,o as m,x as f,u,v as p,e as g,t as h,c as d,a as $,g as b,d as v,b as j,f as w,F as y,h as F,k,n as x,w as E,L as O,a7 as I,r as P,a4 as S,a8 as L,a5 as D}from"../../chunks/vendor-262dbd3a.js";import{g as N}from"../../chunks/api-459a3947.js";import{F as V}from"../../chunks/Form-0df8493f.js";import{g as A,e as C,f as H}from"../../chunks/store-5c78f67a.js";import{g as T}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function q(s){let a,r;return a=new V({props:{form:s[0]}}),a.$on("submitForm",s[3]),{c(){l(a.$$.fragment)},l(s){i(a.$$.fragment,s)},m(s,n){m(a,s,n),r=!0},p(s,r){const n={};1&r&&(n.form=s[0]),a.$set(n)},i(s){r||(f(a.$$.fragment,s),r=!0)},o(s){u(a.$$.fragment,s),r=!1},d(s){p(a,s)}}}function z(s){let a,r;return a=new I({}),{c(){l(a.$$.fragment)},l(s){i(a.$$.fragment,s)},m(s,n){m(a,s,n),r=!0},i(s){r||(f(a.$$.fragment,s),r=!0)},o(s){u(a.$$.fragment,s),r=!1},d(s){p(a,s)}}}function B(s){let a,r;return{c(){a=g("span"),r=h(s[2]),this.h()},l(n){a=d(n,"SPAN",{class:!0});var t=$(a);r=b(t,s[2]),t.forEach(v),this.h()},h(){j(a,"class","warning")},m(s,n){w(s,a,n),y(a,r)},p(s,a){4&a&&F(r,s[2])},d(s){s&&v(a)}}}function G(s){let a,r,n,t,e,o,c,l,i,m=s[0]&&!s[1]&&q(s),p=s[1]&&z(),F=s[2]&&B(s);return{c(){a=g("section"),r=g("div"),n=g("div"),t=g("h2"),e=h("Login"),o=k(),m&&m.c(),c=k(),p&&p.c(),l=k(),F&&F.c(),this.h()},l(s){a=d(s,"SECTION",{});var i=$(a);r=d(i,"DIV",{class:!0});var f=$(r);n=d(f,"DIV",{class:!0});var u=$(n);t=d(u,"H2",{class:!0});var g=$(t);e=b(g,"Login"),g.forEach(v),o=x(u),m&&m.l(u),c=x(u),p&&p.l(u),l=x(u),F&&F.l(u),u.forEach(v),f.forEach(v),i.forEach(v),this.h()},h(){j(t,"class","text-center text-3xl"),j(n,"class","center-content svelte-1tdkxwr"),j(r,"class","container")},m(s,f){w(s,a,f),y(a,r),y(r,n),y(n,t),y(t,e),y(n,o),m&&m.m(n,null),y(n,c),p&&p.m(n,null),y(n,l),F&&F.m(n,null),i=!0},p(s,[a]){s[0]&&!s[1]?m?(m.p(s,a),3&a&&f(m,1)):(m=q(s),m.c(),f(m,1),m.m(n,c)):m&&(P(),u(m,1,1,(()=>{m=null})),E()),s[1]?p?2&a&&f(p,1):(p=z(),p.c(),f(p,1),p.m(n,l)):p&&(P(),u(p,1,1,(()=>{p=null})),E()),s[2]?F?F.p(s,a):(F=B(s),F.c(),F.m(n,null)):F&&(F.d(1),F=null)},i(s){i||(f(m),f(p),i=!0)},o(s){u(m),u(p),i=!1},d(s){s&&v(a),m&&m.d(),p&&p.d(),F&&F.d()}}}const J=async({fetch:s,page:a})=>{const r=await N("forms?slug=login");return r?{props:{loginForm:Object.entries(r[0].fields)},maxage:0}:{error:new Error}};function K(s,e,o){let c,l;O(s,C,(s=>o(1,c=s))),O(s,H,(s=>o(2,l=s)));let{loginForm:i}=e;return s.$$set=s=>{"loginForm"in s&&o(0,i=s.loginForm)},[i,c,l,async function(s){const e=((s,e)=>{for(var o in e||(e={}))r.call(e,o)&&t(s,o,e[o]);if(a)for(var o of a(e))n.call(e,o)&&t(s,o,e[o]);return s})({},s.detail);A(e),C.pipe(S((s=>!s)),L(H),D(1)).subscribe((([s,a])=>{a||T("/")}))}]}class M extends e{constructor(s){super(),o(this,s,K,G,c,{loginForm:0})}}export{M as default,J as load};
