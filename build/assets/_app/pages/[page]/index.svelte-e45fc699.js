var Y=Object.defineProperty;var q=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var M=(l,e,t)=>e in l?Y(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,z=(l,e)=>{for(var t in e||(e={}))Z.call(e,t)&&M(l,t,e[t]);if(q)for(var t of q(e))x.call(e,t)&&M(l,t,e[t]);return l};import{S as $,i as ee,s as te,e as k,c as S,a as j,d as h,b as y,f as w,a9 as B,j as L,m as F,o as I,x as p,u as E,v as V,k as A,n as D,F as b,t as C,g as N,h as se,a6 as ne,w as P,N as le,af as ie,r as T,ac as ae,ag as fe,ad as re}from"../../chunks/vendor-ecfff0c6.js";import{g as oe}from"../../chunks/api-22c92218.js";import{p as ce,h as ue,e as me,f as O}from"../../chunks/store-2f033d10.js";import{F as de}from"../../chunks/Form-ba00398c.js";import{C as _e}from"../../chunks/Comments-0d56f7d9.js";function U(l){let e,t=B(l[2])+"";return{c(){e=k("div"),this.h()},l(s){e=S(s,"DIV",{class:!0});var i=j(e);i.forEach(h),this.h()},h(){y(e,"class","content svelte-1ea4xet")},m(s,i){w(s,e,i),e.innerHTML=t},p(s,i){i&4&&t!==(t=B(s[2])+"")&&(e.innerHTML=t)},d(s){s&&h(e)}}}function G(l){let e,t,s;return t=new _e({props:{host:l[6],slug:l[5]}}),{c(){e=k("div"),L(t.$$.fragment),this.h()},l(i){e=S(i,"DIV",{class:!0});var o=j(e);F(t.$$.fragment,o),o.forEach(h),this.h()},h(){y(e,"class","container")},m(i,o){w(i,e,o),I(t,e,null),s=!0},p(i,o){const d={};o&64&&(d.host=i[6]),o&32&&(d.slug=i[5]),t.$set(d)},i(i){s||(p(t.$$.fragment,i),s=!0)},o(i){E(t.$$.fragment,i),s=!1},d(i){i&&h(e),V(t)}}}function J(l){let e,t;return e=new ie({}),{c(){L(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,i){I(e,s,i),t=!0},i(s){t||(p(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){V(e,s)}}}function K(l){let e,t,s,i,o,d;s=new de({props:{form:l[3]}}),s.$on("submitForm",l[10]);let u=l[0]&&Q(),r=l[9]&&R();return{c(){e=k("div"),t=k("div"),L(s.$$.fragment),i=A(),u&&u.c(),o=A(),r&&r.c(),this.h()},l(a){e=S(a,"DIV",{class:!0});var f=j(e);t=S(f,"DIV",{class:!0});var c=j(t);F(s.$$.fragment,c),c.forEach(h),i=D(f),u&&u.l(f),o=D(f),r&&r.l(f),f.forEach(h),this.h()},h(){y(t,"class","center-content"),y(e,"class","container")},m(a,f){w(a,e,f),b(e,t),I(s,t,null),b(e,i),u&&u.m(e,null),b(e,o),r&&r.m(e,null),d=!0},p(a,f){const c={};f&8&&(c.form=a[3]),s.$set(c),a[0]?u||(u=Q(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),a[9]?r||(r=R(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i(a){d||(p(s.$$.fragment,a),d=!0)},o(a){E(s.$$.fragment,a),d=!1},d(a){a&&h(e),V(s),u&&u.d(),r&&r.d()}}}function Q(l){let e,t;return{c(){e=k("span"),t=C("Sended successfully"),this.h()},l(s){e=S(s,"SPAN",{class:!0});var i=j(e);t=N(i,"Sended successfully"),i.forEach(h),this.h()},h(){y(e,"class","text-green-500 text-center")},m(s,i){w(s,e,i),b(e,t)},d(s){s&&h(e)}}}function R(l){let e,t;return{c(){e=k("span"),t=C("Error, try again"),this.h()},l(s){e=S(s,"SPAN",{class:!0});var i=j(e);t=N(i,"Error, try again"),i.forEach(h),this.h()},h(){y(e,"class","text-red-500 text-center")},m(s,i){w(s,e,i),b(e,t)},d(s){s&&h(e)}}}function W(l){let e,t,s,i;return{c(){e=k("div"),t=k("div"),s=k("span"),i=C(l[7]),this.h()},l(o){e=S(o,"DIV",{class:!0});var d=j(e);t=S(d,"DIV",{class:!0});var u=j(t);s=S(u,"SPAN",{class:!0});var r=j(s);i=N(r,l[7]),r.forEach(h),u.forEach(h),d.forEach(h),this.h()},h(){y(s,"class","text-center m-auto py-8 text-2xl"),y(t,"class","container flex items-center justify-center"),y(e,"class","m-auto w-full")},m(o,d){w(o,e,d),b(e,t),b(t,s),b(s,i)},p(o,d){d&128&&se(i,o[7])},d(o){o&&h(e)}}}function he(l){var H;let e,t,s,i,o,d,u,r;document.title=e=l[8];let a=l[2]&&U(l),f=((H=l[4])==null?void 0:H.withComments)&&G(l),c=l[1]&&J(),m=l[3]&&!l[1]&&K(l),_=l[7]&&W(l);return{c(){t=A(),s=k("div"),a&&a.c(),i=A(),f&&f.c(),o=A(),c&&c.c(),d=A(),m&&m.c(),u=A(),_&&_.c(),this.h()},l(n){ne('[data-svelte="svelte-1az6e94"]',document.head).forEach(h),t=D(n),s=S(n,"DIV",{class:!0});var g=j(s);a&&a.l(g),i=D(g),f&&f.l(g),o=D(g),c&&c.l(g),d=D(g),m&&m.l(g),u=D(g),_&&_.l(g),g.forEach(h),this.h()},h(){y(s,"class","w-full")},m(n,v){w(n,t,v),w(n,s,v),a&&a.m(s,null),b(s,i),f&&f.m(s,null),b(s,o),c&&c.m(s,null),b(s,d),m&&m.m(s,null),b(s,u),_&&_.m(s,null),r=!0},p(n,[v]){var g;(!r||v&256)&&e!==(e=n[8])&&(document.title=e),n[2]?a?a.p(n,v):(a=U(n),a.c(),a.m(s,i)):a&&(a.d(1),a=null),((g=n[4])==null?void 0:g.withComments)?f?(f.p(n,v),v&16&&p(f,1)):(f=G(n),f.c(),p(f,1),f.m(s,o)):f&&(T(),E(f,1,1,()=>{f=null}),P()),n[1]?c?v&2&&p(c,1):(c=J(),c.c(),p(c,1),c.m(s,d)):c&&(T(),E(c,1,1,()=>{c=null}),P()),n[3]&&!n[1]?m?(m.p(n,v),v&10&&p(m,1)):(m=K(n),m.c(),p(m,1),m.m(s,u)):m&&(T(),E(m,1,1,()=>{m=null}),P()),n[7]?_?_.p(n,v):(_=W(n),_.c(),_.m(s,null)):_&&(_.d(1),_=null)},i(n){r||(p(f),p(c),p(m),r=!0)},o(n){E(f),E(c),E(m),r=!1},d(n){n&&h(t),n&&h(s),a&&a.d(),f&&f.d(),c&&c.d(),m&&m.d(),_&&_.d()}}}const ye=async({page:l})=>{const e=await oe("contents?slug="+l.params.page);if(e&&e.length){const t=e[0];return{props:{content:t.content,form:t.form?Object.entries(t.form.fields):null,jsonSettings:t.json,formAction:t.form?t.form.action:null,pageSlug:l.params.page,pageHost:l.host,empty:"",success:!1}}}return{props:{empty:"This page is empty",pageSlug:l.params.page,pageHost:l.host,content:null,form:null,jsonSettings:null,success:!1}}};function ge(l,e,t){let s,i;le(l,O,n=>t(9,i=n));let{content:o=null}=e,{form:d=null}=e,{jsonSettings:u=null}=e,{formAction:r=""}=e,{pageSlug:a=null}=e,{pageHost:f=null}=e,{empty:c=null}=e,{success:m=!1}=e,{formLoading:_=!1}=e;async function H(n){const v=z({},n.detail);!r||(t(1,_=!0),ue(r,v),me.pipe(ae(g=>!g),fe(O),re(1)).subscribe(([g,X])=>{t(1,_=!1),X||t(0,m=!0)}))}return l.$$set=n=>{"content"in n&&t(2,o=n.content),"form"in n&&t(3,d=n.form),"jsonSettings"in n&&t(4,u=n.jsonSettings),"formAction"in n&&t(11,r=n.formAction),"pageSlug"in n&&t(5,a=n.pageSlug),"pageHost"in n&&t(6,f=n.pageHost),"empty"in n&&t(7,c=n.empty),"success"in n&&t(0,m=n.success),"formLoading"in n&&t(1,_=n.formLoading)},l.$$.update=()=>{var n,v;l.$$.dirty&32&&t(8,s=((v=(n=ce.value)==null?void 0:n.find(g=>g.slug===a))==null?void 0:v.title)||a)},[m,_,o,d,u,a,f,c,s,i,H,r]}class Ee extends ${constructor(e){super();ee(this,e,ge,he,te,{content:2,form:3,jsonSettings:4,formAction:11,pageSlug:5,pageHost:6,empty:7,success:0,formLoading:1})}}export{Ee as default,ye as load};
