var M=Object.defineProperty;var I=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var L=(r,e,s)=>e in r?M(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s,R=(r,e)=>{for(var s in e||(e={}))Q.call(e,s)&&L(r,s,e[s]);if(I)for(var s of I(e))U.call(e,s)&&L(r,s,e[s]);return r};import{S as W,i as X,s as Y,j as C,m as D,o as N,x as _,u as v,v as O,e as k,t as V,c as $,a as j,g as q,d as h,b as w,f as A,F as d,h as Z,k as F,n as E,w as H,L as P,aa as x,r as T,a7 as ee,ab as te,a8 as se}from"../../chunks/vendor-d1c45db0.js";import{g as re}from"../../chunks/api-c3d01688.js";import{F as ae}from"../../chunks/Form-cf4813e4.js";import{r as ne,e as z,f as B}from"../../chunks/store-0265ef29.js";import{g as oe}from"../../chunks/navigation-51f4a605.js";import"../../chunks/singletons-12a22614.js";function G(r){let e,s;return e=new ae({props:{form:r[0]}}),e.$on("submitForm",r[3]),{c(){C(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,a){N(e,t,a),s=!0},p(t,a){const c={};a&1&&(c.form=t[0]),e.$set(c)},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){O(e,t)}}}function J(r){let e,s;return e=new x({}),{c(){C(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,a){N(e,t,a),s=!0},i(t){s||(_(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){O(e,t)}}}function K(r){let e,s;return{c(){e=k("span"),s=V(r[2]),this.h()},l(t){e=$(t,"SPAN",{class:!0});var a=j(e);s=q(a,r[2]),a.forEach(h),this.h()},h(){w(e,"class","warning")},m(t,a){A(t,e,a),d(e,s)},p(t,a){a&4&&Z(s,t[2])},d(t){t&&h(e)}}}function ie(r){let e,s,t,a,c,b,f,p,g,n=r[0]&&!r[1]&&G(r),o=r[1]&&J(),i=r[2]&&K(r);return{c(){e=k("section"),s=k("div"),t=k("div"),a=k("h2"),c=V("Registration"),b=F(),n&&n.c(),f=F(),o&&o.c(),p=F(),i&&i.c(),this.h()},l(l){e=$(l,"SECTION",{});var m=j(e);s=$(m,"DIV",{class:!0});var y=j(s);t=$(y,"DIV",{class:!0});var u=j(t);a=$(u,"H2",{class:!0});var S=j(a);c=q(S,"Registration"),S.forEach(h),b=E(u),n&&n.l(u),f=E(u),o&&o.l(u),p=E(u),i&&i.l(u),u.forEach(h),y.forEach(h),m.forEach(h),this.h()},h(){w(a,"class","text-center text-3xl"),w(t,"class","center-content svelte-1tdkxwr"),w(s,"class","container")},m(l,m){A(l,e,m),d(e,s),d(s,t),d(t,a),d(a,c),d(t,b),n&&n.m(t,null),d(t,f),o&&o.m(t,null),d(t,p),i&&i.m(t,null),g=!0},p(l,[m]){l[0]&&!l[1]?n?(n.p(l,m),m&3&&_(n,1)):(n=G(l),n.c(),_(n,1),n.m(t,f)):n&&(T(),v(n,1,1,()=>{n=null}),H()),l[1]?o?m&2&&_(o,1):(o=J(),o.c(),_(o,1),o.m(t,p)):o&&(T(),v(o,1,1,()=>{o=null}),H()),l[2]?i?i.p(l,m):(i=K(l),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(l){g||(_(n),_(o),g=!0)},o(l){v(n),v(o),g=!1},d(l){l&&h(e),n&&n.d(),o&&o.d(),i&&i.d()}}}const he=async({fetch:r,page:e})=>{const s=await re("forms?slug=register");return s?{props:{form:Object.entries(s[0].fields)},maxage:0}:{error:new Error}};function le(r,e,s){let t,a;P(r,z,f=>s(1,t=f)),P(r,B,f=>s(2,a=f));let{form:c}=e;async function b(f){const p=R({},f.detail);ne(p),z.pipe(ee(g=>!g),te(B),se(1)).subscribe(([g,n])=>{n||oe("/")})}return r.$$set=f=>{"form"in f&&s(0,c=f.form)},[c,t,a,b]}class pe extends W{constructor(e){super();X(this,e,le,ie,Y,{form:0})}}export{pe as default,he as load};
