var t=Object.defineProperty,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable,a=(s,n,e)=>n in s?t(s,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[n]=e;import{S as l,i as r,s as o,e as c,c as i,a as u,d as m,b as f,f as p,a1 as h,j as d,m as g,o as v,x as $,u as y,v as j,k as S,n as b,F as E,t as w,g as x,h as A,_ as H,w as I,L as D,a7 as L,r as O,a4 as V,a8 as k,a5 as P}from"../../chunks/vendor-262dbd3a.js";import{g as C}from"../../chunks/api-459a3947.js";import{p as F,h as N,e as T,f as M}from"../../chunks/store-5c78f67a.js";import{F as z}from"../../chunks/Form-0df8493f.js";import{C as _}from"../../chunks/Comments-2165d446.js";function q(t){let s,n=h(t[2])+"";return{c(){s=c("div"),this.h()},l(t){s=i(t,"DIV",{class:!0}),u(s).forEach(m),this.h()},h(){f(s,"class","content svelte-1ea4xet")},m(t,e){p(t,s,e),s.innerHTML=n},p(t,e){4&e&&n!==(n=h(t[2])+"")&&(s.innerHTML=n)},d(t){t&&m(s)}}}function B(t){let s,n,e;return n=new _({props:{host:t[6],slug:t[5]}}),{c(){s=c("div"),d(n.$$.fragment),this.h()},l(t){s=i(t,"DIV",{class:!0});var e=u(s);g(n.$$.fragment,e),e.forEach(m),this.h()},h(){f(s,"class","container")},m(t,a){p(t,s,a),v(n,s,null),e=!0},p(t,s){const e={};64&s&&(e.host=t[6]),32&s&&(e.slug=t[5]),n.$set(e)},i(t){e||($(n.$$.fragment,t),e=!0)},o(t){y(n.$$.fragment,t),e=!1},d(t){t&&m(s),j(n)}}}function G(t){let s,n;return s=new L({}),{c(){d(s.$$.fragment)},l(t){g(s.$$.fragment,t)},m(t,e){v(s,t,e),n=!0},i(t){n||($(s.$$.fragment,t),n=!0)},o(t){y(s.$$.fragment,t),n=!1},d(t){j(s,t)}}}function J(t){let s,n,e,a,l,r;e=new z({props:{form:t[3]}}),e.$on("submitForm",t[10]);let o=t[0]&&K(),h=t[9]&&Q();return{c(){s=c("div"),n=c("div"),d(e.$$.fragment),a=S(),o&&o.c(),l=S(),h&&h.c(),this.h()},l(t){s=i(t,"DIV",{class:!0});var r=u(s);n=i(r,"DIV",{class:!0});var c=u(n);g(e.$$.fragment,c),c.forEach(m),a=b(r),o&&o.l(r),l=b(r),h&&h.l(r),r.forEach(m),this.h()},h(){f(n,"class","center-content"),f(s,"class","container")},m(t,c){p(t,s,c),E(s,n),v(e,n,null),E(s,a),o&&o.m(s,null),E(s,l),h&&h.m(s,null),r=!0},p(t,n){const a={};8&n&&(a.form=t[3]),e.$set(a),t[0]?o||(o=K(),o.c(),o.m(s,l)):o&&(o.d(1),o=null),t[9]?h||(h=Q(),h.c(),h.m(s,null)):h&&(h.d(1),h=null)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){t&&m(s),j(e),o&&o.d(),h&&h.d()}}}function K(t){let s,n;return{c(){s=c("span"),n=w("Sended successfully"),this.h()},l(t){s=i(t,"SPAN",{class:!0});var e=u(s);n=x(e,"Sended successfully"),e.forEach(m),this.h()},h(){f(s,"class","text-green-500 text-center")},m(t,e){p(t,s,e),E(s,n)},d(t){t&&m(s)}}}function Q(t){let s,n;return{c(){s=c("span"),n=w("Error, try again"),this.h()},l(t){s=i(t,"SPAN",{class:!0});var e=u(s);n=x(e,"Error, try again"),e.forEach(m),this.h()},h(){f(s,"class","text-red-500 text-center")},m(t,e){p(t,s,e),E(s,n)},d(t){t&&m(s)}}}function R(t){let s,n,e,a;return{c(){s=c("div"),n=c("div"),e=c("span"),a=w(t[7]),this.h()},l(l){s=i(l,"DIV",{class:!0});var r=u(s);n=i(r,"DIV",{class:!0});var o=u(n);e=i(o,"SPAN",{class:!0});var c=u(e);a=x(c,t[7]),c.forEach(m),o.forEach(m),r.forEach(m),this.h()},h(){f(e,"class","text-center m-auto py-8 text-2xl"),f(n,"class","container flex items-center justify-center"),f(s,"class","m-auto w-full")},m(t,l){p(t,s,l),E(s,n),E(n,e),E(e,a)},p(t,s){128&s&&A(a,t[7])},d(t){t&&m(s)}}}function U(t){var s;let n,e,a,l,r,o,h,d;document.title=n=t[8];let g=t[2]&&q(t),v=(null==(s=t[4])?void 0:s.withComments)&&B(t),j=t[1]&&G(),w=t[3]&&!t[1]&&J(t),x=t[7]&&R(t);return{c(){e=S(),a=c("div"),g&&g.c(),l=S(),v&&v.c(),r=S(),j&&j.c(),o=S(),w&&w.c(),h=S(),x&&x.c(),this.h()},l(t){H('[data-svelte="svelte-1az6e94"]',document.head).forEach(m),e=b(t),a=i(t,"DIV",{class:!0});var s=u(a);g&&g.l(s),l=b(s),v&&v.l(s),r=b(s),j&&j.l(s),o=b(s),w&&w.l(s),h=b(s),x&&x.l(s),s.forEach(m),this.h()},h(){f(a,"class","w-full")},m(t,s){p(t,e,s),p(t,a,s),g&&g.m(a,null),E(a,l),v&&v.m(a,null),E(a,r),j&&j.m(a,null),E(a,o),w&&w.m(a,null),E(a,h),x&&x.m(a,null),d=!0},p(t,[s]){var e;(!d||256&s)&&n!==(n=t[8])&&(document.title=n),t[2]?g?g.p(t,s):(g=q(t),g.c(),g.m(a,l)):g&&(g.d(1),g=null),(null==(e=t[4])?void 0:e.withComments)?v?(v.p(t,s),16&s&&$(v,1)):(v=B(t),v.c(),$(v,1),v.m(a,r)):v&&(O(),y(v,1,1,(()=>{v=null})),I()),t[1]?j?2&s&&$(j,1):(j=G(),j.c(),$(j,1),j.m(a,o)):j&&(O(),y(j,1,1,(()=>{j=null})),I()),t[3]&&!t[1]?w?(w.p(t,s),10&s&&$(w,1)):(w=J(t),w.c(),$(w,1),w.m(a,h)):w&&(O(),y(w,1,1,(()=>{w=null})),I()),t[7]?x?x.p(t,s):(x=R(t),x.c(),x.m(a,null)):x&&(x.d(1),x=null)},i(t){d||($(v),$(j),$(w),d=!0)},o(t){y(v),y(j),y(w),d=!1},d(t){t&&m(e),t&&m(a),g&&g.d(),v&&v.d(),j&&j.d(),w&&w.d(),x&&x.d()}}}const W=async({page:t})=>{const s=await C("contents?slug="+t.params.page);if(s&&s.length){const n=s[0];return{props:{content:n.content,form:n.form?Object.entries(n.form.fields):null,jsonSettings:n.json,formAction:n.form?n.form.action:null,pageSlug:t.params.page,pageHost:t.host,empty:"",success:!1}}}return{props:{empty:"This page is empty",pageSlug:t.params.page,pageHost:t.host,content:null,form:null,jsonSettings:null,success:!1}}};function X(t,l,r){let o,c;D(t,M,(t=>r(9,c=t)));let{content:i=null}=l,{form:u=null}=l,{jsonSettings:m=null}=l,{formAction:f=""}=l,{pageSlug:p=null}=l,{pageHost:h=null}=l,{empty:d=null}=l,{success:g=!1}=l,{formLoading:v=!1}=l;return t.$$set=t=>{"content"in t&&r(2,i=t.content),"form"in t&&r(3,u=t.form),"jsonSettings"in t&&r(4,m=t.jsonSettings),"formAction"in t&&r(11,f=t.formAction),"pageSlug"in t&&r(5,p=t.pageSlug),"pageHost"in t&&r(6,h=t.pageHost),"empty"in t&&r(7,d=t.empty),"success"in t&&r(0,g=t.success),"formLoading"in t&&r(1,v=t.formLoading)},t.$$.update=()=>{var s,n;32&t.$$.dirty&&r(8,o=(null==(n=null==(s=F.value)?void 0:s.find((t=>t.slug===p)))?void 0:n.title)||p)},[g,v,i,u,m,p,h,d,o,c,async function(t){const l=((t,l)=>{for(var r in l||(l={}))n.call(l,r)&&a(t,r,l[r]);if(s)for(var r of s(l))e.call(l,r)&&a(t,r,l[r]);return t})({},t.detail);f&&(r(1,v=!0),N(f,l),T.pipe(V((t=>!t)),k(M),P(1)).subscribe((([t,s])=>{r(1,v=!1),s||r(0,g=!0)})))},f]}class Y extends l{constructor(t){super(),r(this,t,X,U,o,{content:2,form:3,jsonSettings:4,formAction:11,pageSlug:5,pageHost:6,empty:7,success:0,formLoading:1})}}export{Y as default,W as load};
